*** ./smali/android/view/ViewGroup.smali	2014-10-11 10:21:12.572209534 +1100
--- /home/cosmicdan/patchrom_mtk/bang/temp/new_smali/secondary-framework.jar.out/./smali/android/view/ViewGroup.smali	2014-10-11 10:18:10.980205595 +1100
***************
*** 16,22 ****
          Landroid/view/ViewGroup$TouchTarget;,
          Landroid/view/ViewGroup$MarginLayoutParams;,
          Landroid/view/ViewGroup$LayoutParams;,
!         Landroid/view/ViewGroup$OnHierarchyChangeListener;
      }
  .end annotation
  
--- 16,24 ----
          Landroid/view/ViewGroup$TouchTarget;,
          Landroid/view/ViewGroup$MarginLayoutParams;,
          Landroid/view/ViewGroup$LayoutParams;,
!         Landroid/view/ViewGroup$OnHierarchyChangeListener;,
!         Landroid/view/ViewGroup$Injector;,
!         Landroid/view/ViewGroup$ChildSequenceStateTaggingListener;
      }
  .end annotation
  
***************
*** 118,123 ****
--- 120,127 ----
      .end annotation
  .end field
  
+ .field mChildSequenceStateTaggingListener:Landroid/view/ViewGroup$ChildSequenceStateTaggingListener;
+ 
  .field final mChildTransformation:Landroid/view/animation/Transformation;
  
  .field private mChildren:[Landroid/view/View;
***************
*** 222,227 ****
--- 226,233 ----
  
  .field protected mPersistentDrawingCache:I
  
+ .field mTagChildrenSequenceState:Z
+ 
  .field private mTransition:Landroid/animation/LayoutTransition;
  
  .field private mTransitioningViews:Ljava/util/ArrayList;
***************
*** 549,554 ****
--- 555,562 ----
  
      :cond_1
      :goto_0
+     invoke-static {p0}, Landroid/view/ViewGroup$Injector;->tagChildSequenceState(Landroid/view/ViewGroup;)V
+ 
      return-void
  
      :cond_2
***************
*** 2033,2038 ****
--- 2041,2052 ----
      .end local v2           #animateLayoutChanges:Z
      .end local v3           #attr:I
      :cond_1
+     invoke-static {p1, p2}, Landroid/view/ViewGroup$Injector;->initTagChildSequenceState(Landroid/content/Context;Landroid/util/AttributeSet;)Z
+ 
+     move-result v6
+ 
+     iput-boolean v6, p0, Landroid/view/ViewGroup;->mTagChildrenSequenceState:Z
+ 
      invoke-virtual {v1}, Landroid/content/res/TypedArray;->recycle()V
  
      return-void
***************
*** 2380,2385 ****
--- 2394,2401 ----
  
      :cond_2
      :goto_1
+     invoke-static {p0}, Landroid/view/ViewGroup$Injector;->tagChildSequenceState(Landroid/view/ViewGroup;)V
+ 
      return-void
  
      :cond_3
***************
*** 2520,2525 ****
--- 2536,2543 ----
  
      iput v4, p0, Landroid/view/ViewGroup;->mChildrenCount:I
  
+     invoke-static {p0}, Landroid/view/ViewGroup$Injector;->tagChildSequenceState(Landroid/view/ViewGroup;)V
+ 
      goto :goto_0
  .end method
  
***************
*** 3884,3889 ****
--- 3902,3908 ----
      if-gtz v1, :cond_1
  
      :cond_0
+     :goto_miui_0
      return-void
  
      :cond_1
***************
*** 3898,3904 ****
  
      .local v2, i:I
      :goto_0
!     if-ltz v2, :cond_0
  
      aget-object v3, v0, v2
  
--- 3917,3923 ----
  
      .local v2, i:I
      :goto_0
!     if-ltz v2, :cond_miui_0
  
      aget-object v3, v0, v2
  
***************
*** 3909,3923 ****
      add-int/lit8 v2, v2, -0x1
  
      goto :goto_0
  .end method
  
  .method protected detachViewFromParent(I)V
!     .locals 0
      .parameter "index"
  
      .prologue
      invoke-direct {p0, p1}, Landroid/view/ViewGroup;->removeFromArray(I)V
  
      return-void
  .end method
  
--- 3928,3953 ----
      add-int/lit8 v2, v2, -0x1
  
      goto :goto_0
+     
+     :cond_miui_0
+     iget-object v3, p0, Landroid/view/ViewGroup;->mFocused:Landroid/view/View;
+ 
+     invoke-static {p0, v3}, Landroid/view/ViewGroup$Injector;->clearChildFocus(Landroid/view/ViewGroup;Landroid/view/View;)V
+ 
+     goto :goto_miui_0
  .end method
  
  .method protected detachViewFromParent(I)V
!     .locals 1
      .parameter "index"
  
      .prologue
      invoke-direct {p0, p1}, Landroid/view/ViewGroup;->removeFromArray(I)V
  
+     iget-object v0, p0, Landroid/view/ViewGroup;->mFocused:Landroid/view/View;
+ 
+     invoke-static {p0, v0}, Landroid/view/ViewGroup$Injector;->clearChildFocus(Landroid/view/ViewGroup;Landroid/view/View;)V
+ 
      return-void
  .end method
  
***************
*** 3932,3948 ****
  
      invoke-direct {p0, v0}, Landroid/view/ViewGroup;->removeFromArray(I)V
  
      return-void
  .end method
  
  .method protected detachViewsFromParent(II)V
!     .locals 0
      .parameter "start"
      .parameter "count"
  
      .prologue
      invoke-direct {p0, p1, p2}, Landroid/view/ViewGroup;->removeFromArray(II)V
  
      return-void
  .end method
  
--- 3962,3986 ----
  
      invoke-direct {p0, v0}, Landroid/view/ViewGroup;->removeFromArray(I)V
  
+     iget-object v0, p0, Landroid/view/ViewGroup;->mFocused:Landroid/view/View;
+ 
+     invoke-static {p0, v0}, Landroid/view/ViewGroup$Injector;->clearChildFocus(Landroid/view/ViewGroup;Landroid/view/View;)V
+ 
      return-void
  .end method
  
  .method protected detachViewsFromParent(II)V
!     .locals 1
      .parameter "start"
      .parameter "count"
  
      .prologue
      invoke-direct {p0, p1, p2}, Landroid/view/ViewGroup;->removeFromArray(II)V
  
+     iget-object v0, p0, Landroid/view/ViewGroup;->mFocused:Landroid/view/View;
+ 
+     invoke-static {p0, v0}, Landroid/view/ViewGroup$Injector;->clearChildFocus(Landroid/view/ViewGroup;Landroid/view/View;)V
+ 
      return-void
  .end method
  
***************
*** 11228,11233 ****
--- 11266,11273 ----
      invoke-virtual {p0, p1}, Landroid/view/ViewGroup;->notifyChildOfDrag(Landroid/view/View;)Z
  
      :cond_1
+     invoke-static {p0}, Landroid/view/ViewGroup$Injector;->tagChildSequenceState(Landroid/view/ViewGroup;)V
+ 
      return-void
  
      :cond_2
***************
*** 12986,12991 ****
--- 13026,13041 ----
  
      return-void
  .end method
+ 
+ .method public setChildSequenceStateTaggingListener(Landroid/view/ViewGroup$ChildSequenceStateTaggingListener;)V
+     .locals 0
+     .parameter "listener"
+ 
+     .prologue
+     iput-object p1, p0, Landroid/view/ViewGroup;->mChildSequenceStateTaggingListener:Landroid/view/ViewGroup$ChildSequenceStateTaggingListener;
+ 
+     return-void
+ .end method
  
  .method protected setChildrenDrawingCacheEnabled(Z)V
      .locals 5
