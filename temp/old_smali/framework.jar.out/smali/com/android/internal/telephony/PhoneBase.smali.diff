*** ./smali/com/android/internal/telephony/PhoneBase.smali	2014-10-11 10:20:00.452207970 +1100
--- /home/cosmicdan/patchrom_mtk/bang/temp/new_smali/framework.jar.out/./smali/com/android/internal/telephony/PhoneBase.smali	2014-10-11 10:17:01.032204078 +1100
***************
*** 4248,4253 ****
--- 4248,4287 ----
      return-void
  .end method
  
+ .method protected sendDeviceIdReadyBroadcast()V
+     .locals 3
+ 
+     .prologue
+     new-instance v0, Landroid/content/Intent;
+ 
+     const-string v1, "android.intent.action.DEVICE_ID_READY"
+ 
+     invoke-direct {v0, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
+ 
+     .local v0, intent:Landroid/content/Intent;
+     const-string v1, "device_id"
+ 
+     invoke-virtual {p0}, Lcom/android/internal/telephony/PhoneBase;->getDeviceId()Ljava/lang/String;
+ 
+     move-result-object v2
+ 
+     invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+ 
+     const-string v1, "simId"
+ 
+     iget v2, p0, Lcom/android/internal/telephony/PhoneBase;->mySimId:I
+ 
+     invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;
+ 
+     iget-object v1, p0, Lcom/android/internal/telephony/PhoneBase;->mContext:Landroid/content/Context;
+ 
+     const-string v2, "android.permission.READ_PHONE_STATE"
+ 
+     invoke-virtual {v1, v0, v2}, Landroid/content/Context;->sendBroadcast(Landroid/content/Intent;Ljava/lang/String;)V
+ 
+     return-void
+ .end method
+ 
  .method public set3GCapabilitySIM(I)Z
      .locals 1
      .parameter "simId"
***************
*** 4322,4327 ****
--- 4356,4387 ----
      return-void
  .end method
  
+ .method protected setDeviceIdSystemProperty()V
+     .locals 2
+ 
+     .prologue
+     invoke-virtual {p0}, Lcom/android/internal/telephony/PhoneBase;->getDeviceId()Ljava/lang/String;
+ 
+     move-result-object v0
+ 
+     invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
+ 
+     move-result v0
+ 
+     if-nez v0, :cond_0
+ 
+     const-string v0, "ro.ril.miui.imei"
+ 
+     invoke-virtual {p0}, Lcom/android/internal/telephony/PhoneBase;->getDeviceId()Ljava/lang/String;
+ 
+     move-result-object v1
+ 
+     invoke-virtual {p0, v0, v1}, Lcom/android/internal/telephony/PhoneBase;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+ 
+     :cond_0
+     return-void
+ .end method
+ 
  .method public setEchoSuppressionEnabled(Z)V
      .locals 0
      .parameter "enabled"
