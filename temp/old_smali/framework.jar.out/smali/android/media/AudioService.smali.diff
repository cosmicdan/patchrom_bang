*** ./smali/android/media/AudioService.smali	2014-10-11 10:20:43.596208906 +1100
--- /home/cosmicdan/patchrom_mtk/bang/temp/new_smali/framework.jar.out/./smali/android/media/AudioService.smali	2014-10-11 10:17:40.836204941 +1100
***************
*** 27,33 ****
          Landroid/media/AudioService$SoundPoolCallback;,
          Landroid/media/AudioService$SoundPoolListenerThread;,
          Landroid/media/AudioService$SetModeDeathHandler;,
!         Landroid/media/AudioService$ForceControlStreamClient;
      }
  .end annotation
  
--- 27,34 ----
          Landroid/media/AudioService$SoundPoolCallback;,
          Landroid/media/AudioService$SoundPoolListenerThread;,
          Landroid/media/AudioService$SetModeDeathHandler;,
!         Landroid/media/AudioService$ForceControlStreamClient;,
!         Landroid/media/AudioService$Injector;
      }
  .end annotation
  
***************
*** 437,443 ****
  
  .field private mVolumeControlStream:I
  
! .field private mVolumePanel:Landroid/view/VolumePanel;
  
  
  # direct methods
--- 438,444 ----
  
  .field private mVolumeControlStream:I
  
! .field private mVolumePanel:Lmiui/view/VolumePanel;
  
  
  # direct methods
***************
*** 1148,1164 ****
  
      sput v2, Landroid/media/AudioService;->sSoundEffectVolumeDb:I
  
!     new-instance v2, Landroid/view/VolumePanel;
  
      move-object/from16 v0, p1
  
      move-object/from16 v1, p0
  
!     invoke-direct {v2, v0, v1}, Landroid/view/VolumePanel;-><init>(Landroid/content/Context;Landroid/media/AudioService;)V
  
      move-object/from16 v0, p0
  
!     iput-object v2, v0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
      const/4 v2, 0x0
  
--- 1149,1165 ----
  
      sput v2, Landroid/media/AudioService;->sSoundEffectVolumeDb:I
  
!     new-instance v2, Lmiui/view/VolumePanel;
  
      move-object/from16 v0, p1
  
      move-object/from16 v1, p0
  
!     invoke-direct {v2, v0, v1}, Lmiui/view/VolumePanel;-><init>(Landroid/content/Context;Landroid/media/AudioService;)V
  
      move-object/from16 v0, p0
  
!     iput-object v2, v0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
      const/4 v2, 0x0
  
***************
*** 1764,1770 ****
          0x4t 0x0t 0x0t 0x0t
          0x2t 0x0t 0x0t 0x0t
          0x6t 0x0t 0x0t 0x0t
!         0x2t 0x0t 0x0t 0x0t
          0x2t 0x0t 0x0t 0x0t
          0x3t 0x0t 0x0t 0x0t
          0xat 0x0t 0x0t 0x0t
--- 1765,1771 ----
          0x4t 0x0t 0x0t 0x0t
          0x2t 0x0t 0x0t 0x0t
          0x6t 0x0t 0x0t 0x0t
!         0x7t 0x0t 0x0t 0x0t
          0x2t 0x0t 0x0t 0x0t
          0x3t 0x0t 0x0t 0x0t
          0xat 0x0t 0x0t 0x0t
***************
*** 2826,2834 ****
      invoke-direct {p0, v0, p2}, Landroid/media/AudioService;->sendVolumeUpdateToRemote(II)V
  
      :cond_1
!     iget-object v2, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v2, p1, p3}, Landroid/view/VolumePanel;->postRemoteVolumeChanged(II)V
  
      goto :goto_0
  
--- 2827,2835 ----
      invoke-direct {p0, v0, p2}, Landroid/media/AudioService;->sendVolumeUpdateToRemote(II)V
  
      :cond_1
!     iget-object v2, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v2, p1, p3}, Lmiui/view/VolumePanel;->postRemoteVolumeChanged(II)V
  
      goto :goto_0
  
***************
*** 3282,3290 ****
  
      if-le p2, v0, :cond_0
  
!     iget-object v0, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v0}, Landroid/view/VolumePanel;->postDisplaySafeVolumeWarning()V
  
      const/4 v0, 0x0
  
--- 3283,3291 ----
  
      if-le p2, v0, :cond_0
  
!     iget-object v0, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v0}, Lmiui/view/VolumePanel;->postDisplaySafeVolumeWarning()V
  
      const/4 v0, 0x0
  
***************
*** 4139,4145 ****
  .end method
  
  .method private dispatchMediaKeyEvent(Landroid/view/KeyEvent;Z)V
!     .locals 16
      .parameter "keyEvent"
      .parameter "needWakeLock"
  
--- 4140,4146 ----
  .end method
  
  .method private dispatchMediaKeyEvent(Landroid/view/KeyEvent;Z)V
!     .locals 17
      .parameter "keyEvent"
      .parameter "needWakeLock"
  
***************
*** 4177,4205 ****
      :try_start_0
      move-object/from16 v0, p0
  
!     iget-object v1, v0, Landroid/media/AudioService;->mRCStack:Ljava/util/Stack;
! 
!     invoke-virtual {v1}, Ljava/util/Stack;->empty()Z
!     :try_end_0
!     .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
!     move-result v1
  
!     if-nez v1, :cond_2
  
!     :try_start_1
!     move-object/from16 v0, p0
  
!     iget-object v1, v0, Landroid/media/AudioService;->mRCStack:Ljava/util/Stack;
  
!     invoke-virtual {v1}, Ljava/util/Stack;->peek()Ljava/lang/Object;
  
      move-result-object v1
  
!     check-cast v1, Landroid/media/AudioService$RemoteControlStackEntry;
! 
!     iget-object v1, v1, Landroid/media/AudioService$RemoteControlStackEntry;->mMediaIntent:Landroid/app/PendingIntent;
  
      move-object/from16 v0, p0
  
      iget-object v2, v0, Landroid/media/AudioService;->mContext:Landroid/content/Context;
--- 4178,4206 ----
      :try_start_0
      move-object/from16 v0, p0
  
!     iget-object v1, v0, Landroid/media/AudioService;->mContext:Landroid/content/Context;
  
!     move-object/from16 v0, p0
  
!     iget-object v2, v0, Landroid/media/AudioService;->mRCStack:Ljava/util/Stack;
  
!     invoke-static {v1, v2, v4}, Landroid/media/AudioService$Injector;->resolveReceiver(Landroid/content/Context;Ljava/util/Stack;Landroid/content/Intent;)Landroid/media/AudioService$Injector$ResolveInfo;
  
!     move-result-object v16
  
!     .local v16, resolveInfo:Landroid/media/AudioService$Injector$ResolveInfo;
!     move-object/from16 v0, v16
!     
!     invoke-static {v0}, Landroid/media/AudioService$Injector;->getPendingIntent(Landroid/media/AudioService$Injector$ResolveInfo;)Landroid/app/PendingIntent;
!     
!     :try_end_0
!     .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
      move-result-object v1
  
!     if-eqz v1, :cond_2
  
+     :try_start_1
      move-object/from16 v0, p0
  
      iget-object v2, v0, Landroid/media/AudioService;->mContext:Landroid/content/Context;
***************
*** 4298,4303 ****
--- 4299,4308 ----
  
      .local v13, ident:J
      :try_start_4
+     move-object/from16 v0, v16
+ 
+     invoke-static {v4, v0}, Landroid/media/AudioService$Injector;->setComponentName(Landroid/content/Intent;Landroid/media/AudioService$Injector$ResolveInfo;)V
+ 
      move-object/from16 v0, p0
  
      iget-object v3, v0, Landroid/media/AudioService;->mContext:Landroid/content/Context;
***************
*** 8149,8157 ****
  
      iput v0, p0, Landroid/media/AudioService;->mMusicActiveMs:I
  
!     iget-object v0, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v0}, Landroid/view/VolumePanel;->postDisplaySafeVolumeWarning()V
  
      .end local v7           #device:I
      .end local v8           #index:I
--- 8154,8162 ----
  
      iput v0, p0, Landroid/media/AudioService;->mMusicActiveMs:I
  
!     iget-object v0, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v0}, Lmiui/view/VolumePanel;->postDisplaySafeVolumeWarning()V
  
      .end local v7           #device:I
      .end local v8           #index:I
***************
*** 8431,8439 ****
  
      iput p3, v2, Landroid/media/AudioService$RemotePlaybackState;->mVolume:I
  
!     iget-object v2, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v2}, Landroid/view/VolumePanel;->postHasNewRemotePlaybackInfo()V
  
      :cond_1
      monitor-exit v4
--- 8436,8444 ----
  
      iput p3, v2, Landroid/media/AudioService$RemotePlaybackState;->mVolume:I
  
!     iget-object v2, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v2}, Lmiui/view/VolumePanel;->postHasNewRemotePlaybackInfo()V
  
      :cond_1
      monitor-exit v4
***************
*** 8470,8478 ****
  
      iput p3, v2, Landroid/media/AudioService$RemotePlaybackState;->mVolumeMax:I
  
!     iget-object v2, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v2}, Landroid/view/VolumePanel;->postHasNewRemotePlaybackInfo()V
  
      :cond_2
      monitor-exit v4
--- 8475,8483 ----
  
      iput p3, v2, Landroid/media/AudioService$RemotePlaybackState;->mVolumeMax:I
  
!     iget-object v2, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v2}, Lmiui/view/VolumePanel;->postHasNewRemotePlaybackInfo()V
  
      :cond_2
      monitor-exit v4
***************
*** 8509,8517 ****
  
      iput p3, v2, Landroid/media/AudioService$RemotePlaybackState;->mVolumeHandling:I
  
!     iget-object v2, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v2}, Landroid/view/VolumePanel;->postHasNewRemotePlaybackInfo()V
  
      :cond_3
      monitor-exit v4
--- 8514,8522 ----
  
      iput p3, v2, Landroid/media/AudioService$RemotePlaybackState;->mVolumeHandling:I
  
!     iget-object v2, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v2}, Lmiui/view/VolumePanel;->postHasNewRemotePlaybackInfo()V
  
      :cond_3
      monitor-exit v4
***************
*** 8849,8857 ****
  
      iput-boolean v0, p0, Landroid/media/AudioService;->mHasRemotePlayback:Z
  
!     iget-object v3, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v3, v0}, Landroid/view/VolumePanel;->postRemoteSliderVisibility(Z)V
  
      :cond_2
      monitor-exit v4
--- 8854,8862 ----
  
      iput-boolean v0, p0, Landroid/media/AudioService;->mHasRemotePlayback:Z
  
!     iget-object v3, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v3, v0}, Lmiui/view/VolumePanel;->postRemoteSliderVisibility(Z)V
  
      :cond_2
      monitor-exit v4
***************
*** 11152,11160 ****
      .parameter "flags"
  
      .prologue
!     iget-object v0, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v0, p2}, Landroid/view/VolumePanel;->postMasterMuteChanged(I)V
  
      invoke-direct {p0, p1}, Landroid/media/AudioService;->broadcastMasterMuteStatus(Z)V
  
--- 11157,11165 ----
      .parameter "flags"
  
      .prologue
!     iget-object v0, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v0, p2}, Lmiui/view/VolumePanel;->postMasterMuteChanged(I)V
  
      invoke-direct {p0, p1}, Landroid/media/AudioService;->broadcastMasterMuteStatus(Z)V
  
***************
*** 11168,11176 ****
      .parameter "newVolume"
  
      .prologue
!     iget-object v1, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v1, p1}, Landroid/view/VolumePanel;->postMasterVolumeChanged(I)V
  
      new-instance v0, Landroid/content/Intent;
  
--- 11173,11181 ----
      .parameter "newVolume"
  
      .prologue
!     iget-object v1, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v1, p1}, Lmiui/view/VolumePanel;->postMasterVolumeChanged(I)V
  
      new-instance v0, Landroid/content/Intent;
  
***************
*** 11337,11345 ****
      const/4 p1, 0x5
  
      :cond_0
!     iget-object v1, p0, Landroid/media/AudioService;->mVolumePanel:Landroid/view/VolumePanel;
  
!     invoke-virtual {v1, p1, p4}, Landroid/view/VolumePanel;->postVolumeChanged(II)V
  
      and-int/lit8 v1, p4, 0x20
  
--- 11342,11350 ----
      const/4 p1, 0x5
  
      :cond_0
!     iget-object v1, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
  
!     invoke-virtual {v1, p1, p4}, Lmiui/view/VolumePanel;->postVolumeChanged(II)V
  
      and-int/lit8 v1, p4, 0x20
  
***************
*** 13353,13358 ****
--- 13358,13369 ----
      and-int/lit8 p3, p3, -0x5
  
      :cond_1
+     iget-object v1, p0, Landroid/media/AudioService;->mVolumePanel:Lmiui/view/VolumePanel;
+ 
+     invoke-static {v1, p3, p1}, Landroid/media/AudioService$Injector;->adjustDirection(Lmiui/view/VolumePanel;II)I
+ 
+     move-result p1
+ 
      if-ne v0, v4, :cond_3
  
      and-int/lit8 p3, p3, -0x25
